<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Character Showcase</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Add your styles here */
        body {
            display: flex;
            flex-direction: row; /* Arrange elements in a row */
            justify-content: center; /* Center contents horizontally */
            align-items: center; /* Center contents vertically */
            height: 100vh; /* Full viewport height */
            margin: 0; /* Remove default margin */
        }

        .character-info {
            flex: 1; /* Allow this to take up space */
            display: flex;
            flex-direction: column; /* Stack content vertically */
            justify-content: center; /* Center vertically */
            align-items: flex-start; /* Align items to the left */
            padding: 20px; /* Add some padding */
        }

        .character-display {
            display: flex; /* Make display a flex container */
            justify-content: center; /* Center the image */
            flex: 1; /* Allow this to take up space */
        }

        #character-image {
            max-width: 100%; /* Responsive image */
            height: auto; /* Maintain aspect ratio */
            opacity: 0; /* Initially hidden */
            transition: opacity 0.5s ease-in-out; /* Smooth fade */
        }

        #character-image.show {
            opacity: 1; /* Show when 'show' class is added */
        }

        .character-description {
            opacity: 0; /* Initially hidden */
            transform: translateX(-20px); /* Start slightly to the left */
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out; /* Smooth fade and slide */
        }

        .character-description.show {
            opacity: 1; /* Fully visible */
            transform: translateX(0); /* Move to original position */
        }

        .character-selector {
            display: flex; /* Flex container for character capsules */
            justify-content: center; /* Center capsules */
            margin-top: 20px; /* Space above the selector */
        }

        .character-capsule {
            display: inline-block;
            width: 150px;
            height: 70px;
            position: relative;
            margin: 10px;
            transition: transform 0.3s ease; /* Smooth scaling transition */
            transform-origin: center; /* Center scaling */
        }

        .character-capsule.active {
            transform: scale(1.2); /* Scale to 120% when active */
        }
    </style>
</head>
<body class="loading">
    <!-- Background Music -->
    <audio id="background-music" src="Ascend.mp3" preload="auto"></audio>

    <!-- Button to toggle music -->
    <button id="toggle-music">
        <img id="music-icon" src="images/play-icon.png" alt="Play/Pause Icon">
    </button>

    <!-- Background Video -->
    <video autoplay muted loop id="background-video">
        <source src="videos/Ratania.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <!-- Character Info Section -->
    <div class="character-info">
        <h2 id="character-name">Aoi</h2>
        <div class="character-description">
            <p id="character-description">Aoi is the first character in the world of Ratania. A brave warrior, Aoi's journey begins with...</p>
        </div>
    </div>

    <!-- Character Image Section -->
    <div class="character-display" id="character-display">
        <img id="character-image" src="images/characters/aoi.png" alt="Character Image">
    </div>

    <!-- Character Selector Section -->
    <div class="character-selector">
        <div class="character-capsule" id="capsule-aoi" data-character="aoi">
            <img class="capsule-image" src="images/capsules/aoi-custom.png" alt="Aoi Capsule">
        </div>
        <div class="character-capsule" id="capsule-ax" data-character="ax">
            <img class="capsule-image" src="images/capsules/ax-custom.png" alt="Ax Capsule">
        </div>
        <div class="character-capsule" id="capsule-ri" data-character="ri">
            <img class="capsule-image" src="images/capsules/ri-custom.png" alt="Ri Capsule">
        </div>
        <div class="character-capsule" id="capsule-ace" data-character="ace">
            <img class="capsule-image" src="images/capsules/ace-custom.png" alt="Ace Capsule">
        </div>
        <div class="character-capsule" id="capsule-akai" data-character="akai">
            <img class="capsule-image" src="images/capsules/akai-custom.png" alt="Akai Capsule">
        </div>
        <div class="character-capsule" id="capsule-eir" data-character="eir">
            <img class="capsule-image" src="images/capsules/eir-custom.png" alt="Eir Capsule">
        </div>
        <div class="character-capsule" id="capsule-kimi" data-character="kimi">
            <img class="capsule-image" src="images/capsules/kimi-custom.png" alt="Kimi Capsule">
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const characterSelector = document.querySelector(".character-selector");
            const characterImage = document.querySelector("#character-image");
            const characterName = document.querySelector("#character-name");
            const characterDescription = document.querySelector("#character-description");

            const audio = new Audio("Ascend.mp3");
            audio.loop = true;

            const characterInfo = {
                aoi: {
                    name: "Aoi",
                    imagePath: "images/characters/aoi.png",
                    description: "Aoi is the first character in the world of Ratania. A brave warrior, Aoi's journey begins with..."
                },
                ax: {
                    name: "Ax",
                    imagePath: "images/characters/ax.png",
                    description: "Ax is known for his strength and determination."
                },
                ri: {
                    name: "Ri",
                    imagePath: "images/characters/ri.png",
                    description: "Ri is a clever strategist, known for her quick thinking and agility."
                },
                ace: {
                    name: "Ace",
                    imagePath: "images/characters/ace.png",
                    description: "Ace is a skilled marksman, always hitting his targets."
                },
                akai: {
                    name: "Akai",
                    imagePath: "images/characters/akai.png",
                    description: "Akai is a fierce protector of Ratania, wielding his sword with great skill."
                },
                eir: {
                    name: "Eir",
                    imagePath: "images/characters/eir.png",
                    description: "Eir is a healer with a gentle heart, always putting others before herself."
                },
                kimi: {
                    name: "Kimi",
                    imagePath: "images/characters/kimi.png",
                    description: "Kimi is a master of stealth, often moving unnoticed in the shadows."
                }
            };

            // Function to update character info with fade-in effect
            const updateCharacter = (name, imagePath, description) => {
                // Fade out the current character display
                characterImage.classList.remove("show");
                characterName.classList.remove("show");
                characterDescription.classList.remove("show");

                // Wait for the fade-out transition to complete before updating content
                setTimeout(() => {
                    characterImage.src = imagePath; // Update the image source
                    characterName.textContent = name;
                    characterDescription.textContent = description;

                    // Fade in the new character display
                    characterImage.classList.add("show");
                    characterName.classList.add("show");
                    
                    // Fade in the description from left to right
                    characterDescription.classList.add("show");
                }, 500); // Delay to match the fade-out duration
            };

            // Initial delay before content fades in
            setTimeout(() => {
                document.body.classList.remove("loading"); // Remove loading class to fade in content
            }, 3000); // 3-second delay

            // Event listener for character selector
            characterSelector.addEventListener("click", (event) => {
                const target = event.target.closest(".character-capsule");
                if (target) {
                    // Remove 'active' class from all capsules
                    const capsules = document.querySelectorAll(".character-capsule");
                    capsules.forEach(capsule => capsule.classList.remove("active"));

                    // Add 'active' class to the selected capsule
                    target.classList.add("active");

                    const characterData = target.dataset.character;
                    if (characterInfo[characterData]) {
                        const { name, imagePath, description } = characterInfo[characterData];
                        updateCharacter(name, imagePath, description);
                    } else {
                        console.warn("Character data not found:", characterData);
                    }
                }
            });

            // Initial character display
            updateCharacter("Aoi", "images/characters/aoi.png", "Aoi is the first character in the world of Ratania. A brave warrior, Aoi's journey begins with...");
        });
    </script>
</body>
</html>